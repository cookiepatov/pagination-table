(this["webpackJsonptable-constructor"]=this["webpackJsonptable-constructor"]||[]).push([[0],{12:function(t,e,a){},13:function(t,e,a){},15:function(t,e,a){"use strict";a.r(e);var n=a(1),s=a.n(n),r=a(5),c=a.n(r),i=(a(12),a(2)),u=a(3),o=a(7),l=a(6),h=function(){function t(e){Object(i.a)(this,t),this._link="".concat(e)}return Object(u.a)(t,[{key:"_loadJson",value:function(){return fetch(this._link).then((function(t){return t.json()})).then((function(t){return t}))}},{key:"getData",value:function(){return this._loadJson()}}]),t}(),d=function(t){var e=Object.assign({},t);return Object.keys(t).forEach((function(a){e[a]=t[a].slice()})),e},_=(a(13),a(0)),f=function(t){Object(o.a)(a,t);var e=Object(l.a)(a);function a(t){var n;return Object(i.a)(this,a),(n=e.call(this,t))._url=n.props.dataUrl,n._maxElements=n.props.maxElements,n.state={data:{},headers:{},cells:{},pages:{},sortOrders:[],currentPage:0},n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this._setData()}},{key:"_setData",value:function(){var t=this;new h(this._url).getData().then((function(e){t.setState({data:e}),t._updateCells(),t._setupSortOrders(),t._originalData=d(e)}))}},{key:"_updateCells",value:function(){this._setupHeaders(),this._setupPages(),this._setupCells(0)}},{key:"_setupHeaders",value:function(){var t=this,e=this.state.data.cols.map((function(e,a){var n="";switch(t.state.sortOrders[a]){case 0:n="table__cell_sort_down";break;case 1:n="table__cell_sort_up"}return Object(_.jsx)("button",{type:"button",onClick:function(){t._handleHeaderClick(a)},className:"table__cell table__cell_type_header ".concat(n),children:e},"".concat(e,"_").concat(a))}));this.setState({headers:e})}},{key:"_setupCells",value:function(t){var e=(this.state.pages.length?this.state.pages[t].flat(2):[]).map((function(t,e){return Object(_.jsx)("div",{className:"table__cell",children:t},"".concat(t,"_").concat(e))}));document.querySelector(".table").scrollTo(0,0),this.setState({cells:e,currentPage:t})}},{key:"_setupPages",value:function(){var t=this,e=[],a=[],n=this.state.data.data;n.forEach((function(s,r){a.push(s),(r+1)%t._maxElements?r+1===n.length&&e.push(a):(e.push(a),a=[])})),this.setState({pages:e})}},{key:"_setupSortOrders",value:function(){var t=[];this.state.pages.forEach((function(){return t.push(null)})),this.setState({sortOrders:t})}},{key:"_handleHeaderClick",value:function(t){this._sortColumn(t)}},{key:"_handleFilterInput",value:function(t){this._filterData(t.target.value)}},{key:"_pagesNavigation",value:function(){var t=this;return this.state.pages.map((function(e,a){var n=t.state.currentPage===a?"navigator__button navigator__button_current":"navigator__button";return Object(_.jsx)("button",{className:n,type:"button",onClick:function(){t._setupCells(a)},children:a+1},"".concat(e,"_").concat(a))}))}},{key:"_sortColumn",value:function(t){var e,a,n=this,s=this.state.sortOrders.slice()[t],r=d(this.state.data);switch(s){case null:a=0,e=this.state.data.data.sort((function(e,a){return e[t]>a[t]?1:-1}));break;case 0:a=1,e=this.state.data.data.sort((function(e,a){return e[t]>a[t]?-1:1}));break;case 1:a=0,e=this.state.data.data.sort((function(e,a){return e[t]>a[t]?1:-1}))}r.data=e,this.setState({data:r}),this._setNewSortOrders(t,a),setTimeout((function(){return n._updateCells()}),0)}},{key:"_setNewSortOrders",value:function(t,e){var a=this.state.sortOrders.slice().map((function(a,n){return n===t?e:null}));this.setState({sortOrders:a})}},{key:"_filterData",value:function(t){var e=this;t=t.toLowerCase();var a=d(this._originalData);if(t.length>0){var n=a.data.filter((function(e){var a=!1;return e.forEach((function(e){(e+"").toLowerCase().includes(t)&&(a=!0)})),a}));a.data=n}this.setState({data:a}),setTimeout((function(){return e._updateCells()}))}},{key:"render",value:function(){var t=this;return Object(_.jsxs)("div",{className:"table-container",children:[Object(_.jsx)("span",{children:"\u0424\u0438\u043b\u044c\u0442\u0440"}),Object(_.jsx)("input",{type:"text",className:"table-container",onInput:function(e){return t._handleFilterInput(e)}}),Object(_.jsxs)("div",{className:"table",children:[this.state.headers.length>0&&this.state.headers,this.state.cells.length>0&&this.state.cells]}),Object(_.jsx)("nav",{children:this.state.pages.length>0&&this._pagesNavigation()})]})}}]),a}(n.Component);var p=function(){return Object(_.jsx)(f,{dataUrl:"./data/data200.json",maxElements:50})},v=function(t){t&&t instanceof Function&&a.e(3).then(a.bind(null,16)).then((function(e){var a=e.getCLS,n=e.getFID,s=e.getFCP,r=e.getLCP,c=e.getTTFB;a(t),n(t),s(t),r(t),c(t)}))};c.a.render(Object(_.jsx)(s.a.StrictMode,{children:Object(_.jsx)(p,{})}),document.getElementById("root")),v()}},[[15,1,2]]]);
//# sourceMappingURL=main.6c4dc4d2.chunk.js.map